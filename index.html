<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard — Gestão da Escola</title>
  <link rel="stylesheet" href="styles.css?v=20260219-01" />
</head>
<body>
  <div class="app">
    <header class="top">
      <h1>Dashboard — Gestão da Escola</h1>
      <div id="status" class="status">—</div>
    </header>

    <section class="controls card">
      <div class="row">
        <div class="field">
          <label>Unidades (Abas)</label>

          <div class="multiSelect" id="multiSelect">
            <button class="multiBtn" id="unitBtn" type="button" aria-haspopup="true" aria-expanded="false">
              <span>Selecionar unidades</span>
              <span class="chev">▾</span>
            </button>

            <div class="multiMenu" id="unitMenu" role="menu" aria-label="Seleção de unidades">
              <!-- checkboxes via JS -->
            </div>
          </div>

          <div class="smallMuted" id="unitSummary">—</div>
        </div>

        <div class="field">
          <label>Período — Início</label>
          <input id="dateStart" type="date" />
        </div>

        <div class="field">
          <label>Período — Fim</label>
          <input id="dateEnd" type="date" />
        </div>

        <div class="field">
          <label>Modo da tabela</label>
          <select id="tableMode">
            <option value="interval" selected>Intervalo (filtra colunas)</option>
            <option value="full">Completa (todas as colunas)</option>
          </select>
        </div>

        <div class="field actions">
          <button id="btnLoad" class="btn" type="button">Carregar</button>
          <button id="btnApply" class="btn btnPrimary" type="button">Aplicar</button>
        </div>
      </div>

      <div class="meta">
        <div><b>Unidades:</b> <span id="metaUnit">—</span></div>
        <div><b>Período:</b> <span id="metaPeriod">—</span></div>
        <div><b>Base (cards):</b> <span id="metaBaseMonth">—</span></div>
        <div class="hint" id="hintBox"></div>
      </div>
    </section>

    <section class="grid">
      <div class="sectionTitle">FINANCEIRO — RESULTADO</div>

      <div class="kpiCard">
        <div class="kpiHeader">
          <div class="kpiTitle">Faturamento</div>
          <div class="kpiTotal" id="total_faturamento">Total: —</div>
        </div>
        <div class="kpiList" id="card_faturamento"></div>
      </div>

      <div class="kpiCard">
        <div class="kpiHeader">
          <div class="kpiTitle">Custos</div>
          <div class="kpiTotal" id="total_custo">Total: —</div>
        </div>
        <div class="kpiList" id="card_custo"></div>
      </div>

      <div class="kpiCard">
        <div class="kpiHeader">
          <div class="kpiTitle">Resultado</div>
          <div class="kpiTotal" id="total_resultado">Total: —</div>
        </div>
        <div class="kpiList" id="card_resultado"></div>
      </div>

      <div class="sectionTitle">VOLUME — ABSOLUTOS</div>

      <div class="kpiCard">
        <div class="kpiHeader">
          <div class="kpiTitle">Ativos</div>
          <div class="kpiTotal" id="total_ativos">Total: —</div>
        </div>
        <div class="kpiList" id="card_ativos"></div>
      </div>

      <div class="kpiCard">
        <div class="kpiHeader">
          <div class="kpiTitle">Vendas (Matrículas)</div>
          <div class="kpiTotal" id="total_matriculas">Total: —</div>
        </div>
        <div class="kpiList" id="card_matriculas"></div>
      </div>

      <div class="kpiCard">
        <div class="kpiHeader">
          <div class="kpiTitle">Cadastros</div>
          <div class="kpiTotal" id="total_cadastros">Total: —</div>
        </div>
        <div class="kpiList" id="card_cadastros"></div>
      </div>

      <div class="kpiCard">
        <div class="kpiHeader">
          <div class="kpiTitle">Conversão</div>
          <div class="kpiTotal" id="total_conversao">Total: —</div>
        </div>
        <div class="kpiList" id="card_conversao"></div>
      </div>

      <div class="kpiCard">
        <div class="kpiHeader">
          <div class="kpiTitle">Parcelas recebidas</div>
          <div class="kpiTotal" id="total_recebidas">Total: —</div>
        </div>
        <div class="kpiList" id="card_recebidas"></div>
      </div>

      <div class="sectionTitle">PERDAS — SAÚDE</div>

      <div class="kpiCard">
        <div class="kpiHeader">
          <div class="kpiTitle">Inadimplência</div>
          <div class="kpiTotal" id="total_inad">Total: —</div>
        </div>
        <div class="kpiList" id="card_inad"></div>
      </div>

      <div class="kpiCard">
        <div class="kpiHeader">
          <div class="kpiTitle">Evasão</div>
          <div class="kpiTotal" id="total_evasao">Total: —</div>
        </div>
        <div class="kpiList" id="card_evasao"></div>
      </div>

      <div class="kpiCard">
        <div class="kpiHeader">
          <div class="kpiTitle">Margem</div>
          <div class="kpiTotal" id="total_margem">Total: —</div>
        </div>
        <div class="kpiList" id="card_margem"></div>
      </div>

      <div class="sectionTitle">TABELA — INDICADORES (MENSAL)</div>
      <div class="tableCard">
        <div class="tableActions">
          <div class="pill" id="tblInfo">—</div>
          <button class="btn" id="btnExpand" type="button">Expandir largura</button>
        </div>
        <div class="tableWrap" id="tableWrap">
          <table id="kpiTable"></table>
        </div>
      </div>
    </section>
  </div>

  <script src="app.js?v=20260219-01"></script>
</body>
</html>
