:root{
  --bg:#f4f7f6;
  --card:#ffffff;
  --text:#0b1220;
  --muted:#5b6474;
  --border:#dfe6e3;

  --good:#0f766e;
  --bad:#b91c1c;

  --green-900:#0b3d2e;
  --green-800:#0f4d3a;
  --green-700:#136149;
  --green-600:#168a63;
  --green-500:#16a34a;

  --mint-50:#ecfdf5;
  --mint-100:#d1fae5;
  --lime-50:#f7fee7;

  --shadow: 0 12px 26px rgba(16, 24, 40, .08);
  --shadow-soft: 0 8px 16px rgba(16, 24, 40, .06);

  --radius:16px;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue";
  color:var(--text);
  background:
    radial-gradient(1200px 500px at 10% 0%, #e9fbf3 0%, rgba(233,251,243,0) 60%),
    radial-gradient(900px 500px at 90% 10%, #eefbf2 0%, rgba(238,251,242,0) 55%),
    var(--bg);
}

.app{max-width:1100px;margin:20px auto;padding:0 14px 40px}
.top{display:flex;align-items:flex-end;justify-content:space-between;margin-bottom:14px}
h1{font-size:20px;margin:0;letter-spacing:-0.02em}

.status{
  font-size:12px;
  color:var(--muted);
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.75);
}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow-soft);
}

.controls{padding:12px 12px 10px; overflow:visible;}
.controls .row{
  display:grid;
  grid-template-columns: 1.4fr 1fr 1fr 1fr auto;
  gap:10px;
  align-items:end;
  overflow:visible;
}

.field label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
.field input, .field select{
  width:100%;
  padding:9px 10px;
  border:1px solid var(--border);
  border-radius:10px;
  background:#fff;
  font-size:13px;
}

.actions{display:flex;gap:8px;justify-content:flex-end}
.btn{
  border:1px solid var(--border);
  background:#fff;
  padding:9px 12px;
  border-radius:10px;
  cursor:pointer;
  font-weight:800;
  font-size:13px;
}
.btnPrimary{
  background:linear-gradient(180deg, var(--green-700), var(--green-900));
  border-color:transparent;
  color:#fff;
}
.btnPrimary:hover{filter:brightness(1.03)}

.meta{display:flex;flex-wrap:wrap;gap:14px;margin-top:10px;font-size:12px;color:var(--muted)}
.hint{
  flex:1 1 100%;
  padding:8px 10px;
  border:1px dashed var(--border);
  border-radius:12px;
  background:#fbfffd;
  color:#334155;
}

.smallMuted{margin-top:6px;font-size:12px;color:var(--muted)}

/* Multi select */
.multiSelect{position:relative}
.multiBtn{
  width:100%;
  display:flex;justify-content:space-between;align-items:center;
  padding:9px 10px;
  border:1px solid var(--border);
  border-radius:10px;
  background:#fff;
  cursor:pointer;
  font-size:13px;
}
.multiBtn .chev{color:var(--muted)}
.multiMenu{
  position:absolute;
  z-index:9999;
  left:0; right:0;
  top:calc(100% + 6px);
  background:#fff;
  border:1px solid var(--border);
  border-radius:14px;
  box-shadow:var(--shadow);
  padding:8px;
  display:none;
}
.multiMenu.open{display:block}
.chkRow{
  display:flex;align-items:center;gap:10px;
  padding:8px 10px;border-radius:12px;
}
.chkRow:hover{background:#f3f6f5}
.chkRow input{transform:scale(1.1)}
.chkRow span{font-size:13px}
.multiFoot{
  margin-top:6px;
  padding-top:8px;
  border-top:1px solid var(--border);
  display:flex;gap:8px;justify-content:flex-end;
}
.linkBtn{
  background:#fff;border:1px solid var(--border);
  border-radius:10px;padding:7px 10px;cursor:pointer;
  font-weight:900;font-size:12px;
}

.grid{
  margin-top:14px;
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:12px;
  align-items:stretch;
}

.sectionTitle{
  grid-column: 1 / -1;
  font-size:11px;
  letter-spacing:.04em;
  color:var(--green-900);
  opacity:.85;
  font-weight:950;
  margin-top:6px;
  padding:0 2px;
  text-transform:uppercase;
}

.kpiCard{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow-soft);
  padding:12px;
  min-height:150px;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.kpiHeader{display:flex;align-items:baseline;justify-content:space-between;gap:10px}
.kpiTitle{font-size:12px;color:var(--muted);font-weight:950}
.kpiTotal{
  font-size:12px;
  color:var(--green-900);
  background:rgba(22,163,74,.08);
  border:1px solid rgba(22,163,74,.18);
  padding:4px 10px;
  border-radius:999px;
  font-weight:950;
}

.kpiList{display:flex;flex-direction:column;gap:8px}

.unitLine{
  border-radius:14px;
  border:1px solid rgba(20, 83, 45, .12);
  box-shadow: 0 8px 16px rgba(16, 24, 40, .05);
  background:#fff;
  padding:10px 12px;
  position:relative;
  overflow:hidden;
}

/* tons por unidade */
.unitLine.unit-CAMACARI{
  background: linear-gradient(90deg, rgba(22,163,74,.12), rgba(255,255,255,1) 45%);
  border-left: 8px solid var(--green-600);
}
.unitLine.unit-CAJAZEIRAS{
  background: linear-gradient(90deg, rgba(22,138,99,.12), rgba(255,255,255,1) 45%);
  border-left: 8px solid var(--green-700);
}
.unitLine.unit-SAO_CRISTOVAO{
  background: linear-gradient(90deg, rgba(11,61,46,.10), rgba(255,255,255,1) 45%);
  border-left: 8px solid var(--green-900);
}

.unitTop{display:flex;justify-content:space-between;gap:10px;align-items:baseline}
.unitName{
  display:inline-flex;
  align-items:center;
  gap:8px;
  font-size:13px;
  color:#0b1220;
  font-weight:950;
}
.unitName::before{
  content:"";
  width:10px;height:10px;border-radius:999px;
  background: var(--green-600);
  box-shadow: 0 0 0 4px rgba(22,163,74,.12);
}
.unitLine.unit-CAJAZEIRAS .unitName::before{ background: var(--green-700); box-shadow:0 0 0 4px rgba(22,138,99,.12); }
.unitLine.unit-SAO_CRISTOVAO .unitName::before{ background: var(--green-900); box-shadow:0 0 0 4px rgba(11,61,46,.12); }

.unitValue{font-size:15px;font-weight:950;letter-spacing:-0.01em}
.unitSub{font-size:12px;color:var(--muted);font-weight:800}

.unitBottom{
  margin-top:6px;
  display:flex;
  flex-direction:column;
  gap:4px;
  font-size:12px;
  color:var(--muted);
}
.rowLine{
  display:flex;
  justify-content:space-between;
  gap:10px;
  white-space:nowrap;
}
.tag{display:inline-flex;gap:6px;align-items:center;white-space:nowrap}

.pct.good{
  color: #0f766e;
  background: rgba(15,118,110,.10);
  border: 1px solid rgba(15,118,110,.18);
  padding: 2px 8px;
  border-radius: 999px;
  font-weight:950;
}
.pct.bad{
  color: #b91c1c;
  background: rgba(185,28,28,.08);
  border: 1px solid rgba(185,28,28,.18);
  padding: 2px 8px;
  border-radius: 999px;
  font-weight:950;
}

/* Tabela */
.tableCard{
  grid-column: 1 / -1;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow-soft);
  padding:10px;
}
.tableActions{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:8px}
.pill{
  font-size:12px;color:#334155;
  background:#f3f6f5;border:1px solid var(--border);
  padding:6px 10px;border-radius:999px;font-weight:900;
}
.tableWrap{overflow:auto;border:1px solid var(--border);border-radius:14px;max-height:520px}
.tableWrap.expanded{max-height:75vh}

#kpiTable{border-collapse:separate;border-spacing:0;width:max-content;min-width:100%;font-size:12px}
#kpiTable th,#kpiTable td{border-bottom:1px solid var(--border);padding:8px 10px;white-space:nowrap}
#kpiTable thead th{
  position:sticky;top:0;z-index:2;
  background: linear-gradient(180deg, #ffffff, #fbfffd);
  font-weight:950;
}
#kpiTable th:first-child,#kpiTable td:first-child{
  position:sticky;left:0;background:#fff;z-index:3;
  border-right:1px solid var(--border);
  min-width:280px;max-width:420px;
}
.trGroup td{
  background: linear-gradient(90deg, rgba(22,163,74,.10), rgba(255,255,255,1)) !important;
  font-weight:950;text-transform:uppercase;letter-spacing:.03em;
  color:var(--green-900);
}
.muted{color:var(--muted)}
